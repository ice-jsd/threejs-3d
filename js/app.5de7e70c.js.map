{"version":3,"file":"js/app.5de7e70c.js","mappings":"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","sources":["webpack://view360/./src/App.vue","webpack://view360/./src/App.vue?7ccd","webpack://view360/./src/main.js","webpack://view360/webpack/bootstrap","webpack://view360/webpack/runtime/chunk loaded","webpack://view360/webpack/runtime/compat get default export","webpack://view360/webpack/runtime/define property getters","webpack://view360/webpack/runtime/global","webpack://view360/webpack/runtime/hasOwnProperty shorthand","webpack://view360/webpack/runtime/jsonp chunk loading","webpack://view360/webpack/startup"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"canvas-container\" ref=\"container\"></div>\n\n    <!-- Âä†ËΩΩÊåáÁ§∫Âô® -->\n    <div v-if=\"isLoading\" class=\"loading-overlay\">\n      <div class=\"loading-content\">\n        <div class=\"spinner\"></div>\n        <p>Loading Assets... {{ loadingProgress }}%</p>\n      </div>\n    </div>\n\n    <!-- UI ‰∫§‰∫íÂ±Ç -->\n    <div class=\"ui-layer\" v-show=\"!isLoading\">\n      <!-- È°∂ÈÉ®‰ø°ÊÅØ -->\n      <div class=\"mode-indicator\">\n        ÂΩìÂâçÊ®°Âºè: {{ getModeName() }}\n      </div>\n\n      <!-- ÊÇ¨ÊµÆÊèêÁ§∫ Tooltip (‰ªÖÂú® 3D Â§ñËßÇÊ®°ÂºèÊòæÁ§∫) -->\n      <div \n        v-if=\"hoverInfo.visible && viewMode === '3D' && currentMode === 'exterior'\" \n        class=\"tooltip-card\"\n        :style=\"{ top: hoverInfo.y + 'px', left: hoverInfo.x + 'px' }\"\n      >\n        <h3>{{ hoverInfo.data.name }}</h3>\n        <p class=\"tooltip-area\">üìê {{ hoverInfo.data.area }}</p>\n        <p class=\"tooltip-status\">‚óè {{ hoverInfo.data.status }}</p>\n        <div class=\"tooltip-arrow\"></div>\n      </div>\n\n      <!-- Â∫ïÈÉ®Êìç‰ΩúÊ†è -->\n      <div class=\"bottom-toolbar\">\n        <div class=\"toolbar-group left\">\n          <button class=\"tool-btn\" :class=\"{ active: viewMode === '2D' }\" @click.stop=\"toggleViewMode('2D')\">\n            <span class=\"icon\">üìÑ</span> 2D ËßÜÂõæ\n          </button>\n          <button class=\"tool-btn\" :class=\"{ active: viewMode === '3D' }\" @click.stop=\"toggleViewMode('3D')\">\n            <span class=\"icon\">üßä</span> 3D ËßÜÂõæ\n          </button>\n        </div>\n        \n        <div class=\"toolbar-group center\">\n           <span v-if=\"activeFloor\" class=\"floor-tag\">ÂΩìÂâçÈÄâ‰∏≠: {{ activeFloor.name }}</span>\n           <span v-else class=\"floor-tag\">ËØ∑ÈÄâÊã©Ê•ºÂ±Ç</span>\n        </div>\n\n        <div class=\"toolbar-group right\">\n          <button v-if=\"currentMode === 'interior'\" class=\"tool-btn back-btn\" @click.stop=\"exitRoom\">\n            üö™ ÈÄÄÂá∫ÊàøÈó¥\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport { RGBELoader } from \"three/examples/jsm/loaders/RGBELoader\";\nimport { ref, onMounted, onBeforeUnmount, reactive } from \"vue\";\nimport gsap from \"gsap\";\n\n// --- Áä∂ÊÄÅÁÆ°ÁêÜ ---\nconst container = ref(null);\nconst isLoading = ref(true);\nconst loadingProgress = ref(0);\nconst currentMode = ref(\"exterior\"); // 'exterior' | 'interior'\nconst viewMode = ref(\"3D\"); // '2D' | '3D'\nconst activeFloor = ref(null); // ÂΩìÂâçÈÄâ‰∏≠ÁöÑÊ•ºÂ±ÇÊï∞ÊçÆ\n\n// ÊÇ¨ÊµÆÊèêÁ§∫Áä∂ÊÄÅ\nconst hoverInfo = reactive({\n  visible: false,\n  x: 0,\n  y: 0,\n  data: { name: '', area: '', status: '' }\n});\n\n// --- Three.js Ê†∏ÂøÉÂèòÈáè ---\nlet scene, renderer, raycaster, mouse;\nlet camera3D, camera2D, activeCamera;\nlet controls3D, controls2D, activeControls;\nlet buildingGroup, structuresGroup, interiorGroup;\nlet exteriorClickables = []; // Ê•ºÂ±ÇÂùó‰∫§‰∫íÂØπË±°\nlet hoverObj = null; // ÂΩìÂâçÈº†Ê†áÊÇ¨ÂÅúÁöÑÂØπË±°\nlet animationId;\nlet exteriorFog = null;\nlet exteriorToneExposure = 1.1;\nlet interiorToneExposure = 0.85;\n\n// --- ÈÖçÁΩÆÂèÇÊï∞ ---\nconst CONFIG = {\n  camera: {\n    exteriorPos: { x: 25, y: 20, z: 25 },\n    fov: 60\n  }\n};\n\n// Âª∫Á≠ëÁæ§ÈÖçÁΩÆ (ÂåÖÂê´Ê•ºÂ±Ç‰ø°ÊÅØ)\nconst buildingsConfig = [\n  {\n    name: \"Main Building\",\n    pos: { x: 0, z: 0 },\n    // ‰∏ªÊ•ºÁâπÊÆäÂ§ÑÁêÜÔºöÂàÜÂ±ÇÊûÑÂª∫\n    isSplit: true, \n    floors: [\n      { id: 'L0', name: 'Level 0 (Lobby)', height: 4, yPos: 2, color: 0xe0e0e0, area: '120„é°', status: 'Available' },\n      { id: 'L1', name: 'Level 1 (Office)', height: 4, yPos: 6, color: 0xdcdcdc, area: '115„é°', status: 'Leased' },\n      { id: 'L2', name: 'Level 2 (Apartment)', height: 4, yPos: 10, color: 0xe0e0e0, area: '115„é°', status: 'Available' },\n      { id: 'Roof', name: 'Roof Terrace', height: 1, yPos: 12.5, color: 0xa0a0a0, area: '400„é°', status: 'Common Area', isRoof: true }\n    ],\n    width: 8,\n    depth: 8\n  },\n  // ÂÖ∂‰ªñËÉåÊôØÂª∫Á≠ë (‰øùÊåÅÊï¥‰Ωì)\n  { name: \"Side Tower A\", pos: { x: -15, z: -5 }, size: { w: 10, h: 16, d: 10 }, texture: './imgs/bedroom/image_2.png' },\n  { name: \"Side Tower B\", pos: { x: 15, z: -2 }, size: { w: 9, h: 10, d: 9 }, texture: './imgs/bedroom/image_2.png' },\n  { name: \"Back Tower\", pos: { x: 5, z: -25 }, size: { w: 12, h: 25, d: 12 }, texture: './imgs/bedroom/image_2.png' }\n];\n\n// --- ËæÖÂä©ÊñπÊ≥ï ---\nconst getModeName = () => {\n  if (viewMode.value === '2D') return '2D Âπ≥Èù¢ÂõæÊ®°Âºè';\n  return currentMode.value === 'exterior' ? '3D Âª∫Á≠ëÂ§ñËßÇ' : 'ÂÆ§ÂÜÖÂÖ®ÊôØ (VR)';\n};\n\nconst toggleViewMode = (mode) => {\n  viewMode.value = mode;\n  update2DCamera();\n  syncActiveView();\n};\n\nconst update2DCamera = () => {\n  if (!camera2D || !structuresGroup) return;\n\n  const box = new THREE.Box3().setFromObject(structuresGroup);\n  if (box.isEmpty()) return;\n\n  const size = new THREE.Vector3();\n  const center = new THREE.Vector3();\n  box.getSize(size);\n  box.getCenter(center);\n\n  const aspect = window.innerWidth / window.innerHeight;\n  const margin = 1.2;\n  const halfWidth = (size.x / 2) * margin;\n  const halfHeight = (size.z / 2) * margin;\n\n  if (halfWidth / halfHeight > aspect) {\n    camera2D.left = -halfWidth;\n    camera2D.right = halfWidth;\n    const halfY = halfWidth / aspect;\n    camera2D.top = halfY;\n    camera2D.bottom = -halfY;\n  } else {\n    camera2D.top = halfHeight;\n    camera2D.bottom = -halfHeight;\n    const halfX = halfHeight * aspect;\n    camera2D.left = -halfX;\n    camera2D.right = halfX;\n  }\n\n  camera2D.near = 0.1;\n  camera2D.far = 2000;\n  camera2D.position.set(center.x, center.y + 200, center.z);\n  camera2D.up.set(0, 0, -1);\n  camera2D.lookAt(center);\n  camera2D.updateProjectionMatrix();\n\n  if (controls2D) {\n    controls2D.target.copy(center);\n    controls2D.update();\n  }\n};\n\nconst syncActiveView = () => {\n  if (currentMode.value === 'interior') {\n    activeCamera = camera3D;\n    activeControls = controls3D;\n  } else if (viewMode.value === '2D') {\n    activeCamera = camera2D;\n    activeControls = controls2D;\n  } else {\n    activeCamera = camera3D;\n    activeControls = controls3D;\n  }\n\n  if (controls3D) controls3D.enabled = activeControls === controls3D;\n  if (controls2D) controls2D.enabled = activeControls === controls2D;\n\n  if (scene) {\n    if (viewMode.value === '2D' && currentMode.value === 'exterior') {\n      scene.fog = null;\n    } else {\n      scene.fog = exteriorFog;\n    }\n  }\n};\n\n// --- ÂàùÂßãÂåñÁ≥ªÁªü ---\nconst init = () => {\n  scene = new THREE.Scene();\n  scene.background = new THREE.Color(0x111111); // Ê∑±Ëâ≤ËÉåÊôØÊòæÈ´òÁ∫ß\n  exteriorFog = new THREE.Fog(0x111111, 20, 100);\n  scene.fog = exteriorFog;\n\n  camera3D = new THREE.PerspectiveCamera(CONFIG.camera.fov, window.innerWidth / window.innerHeight, 0.1, 1000);\n  camera3D.position.set(CONFIG.camera.exteriorPos.x, CONFIG.camera.exteriorPos.y, CONFIG.camera.exteriorPos.z);\n\n  camera2D = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 2000);\n  camera2D.position.set(0, 200, 0);\n  camera2D.lookAt(0, 0, 0);\n  camera2D.updateProjectionMatrix();\n\n  renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n  renderer.outputEncoding = THREE.sRGBEncoding;\n  renderer.toneMapping = THREE.ACESFilmicToneMapping;\n  renderer.toneMappingExposure = 1.1;\n  renderer.physicallyCorrectLights = true;\n  renderer.shadowMap.enabled = true;\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n  container.value.appendChild(renderer.domElement);\n  exteriorToneExposure = renderer.toneMappingExposure;\n\n  controls3D = new OrbitControls(camera3D, renderer.domElement);\n  controls3D.enableDamping = true;\n  controls3D.dampingFactor = 0.05;\n  controls3D.maxPolarAngle = Math.PI / 2 - 0.05;\n  controls3D.minDistance = 5;\n  controls3D.maxDistance = 60;\n\n  controls2D = new OrbitControls(camera2D, renderer.domElement);\n  controls2D.enableDamping = true;\n  controls2D.dampingFactor = 0.08;\n  controls2D.enableRotate = false;\n  controls2D.enablePan = true;\n  controls2D.screenSpacePanning = true;\n  controls2D.minZoom = 0.5;\n  controls2D.maxZoom = 8;\n  controls2D.mouseButtons = {\n    LEFT: THREE.MOUSE.PAN,\n    MIDDLE: THREE.MOUSE.DOLLY,\n    RIGHT: THREE.MOUSE.PAN\n  };\n\n  raycaster = new THREE.Raycaster();\n  mouse = new THREE.Vector2();\n\n  const manager = new THREE.LoadingManager();\n  manager.onProgress = (url, loaded, total) => {\n    loadingProgress.value = Math.floor((loaded / total) * 100);\n  };\n  manager.onLoad = () => {\n    isLoading.value = false;\n    gsap.from(camera3D.position, { y: 50, duration: 1.5, ease: \"power3.out\" });\n  };\n\n  addLights();\n  createSceneContent(manager);\n  update2DCamera();\n  syncActiveView();\n  \n  window.addEventListener(\"resize\", onWindowResize);\n  window.addEventListener(\"mousemove\", onMouseMove);\n  window.addEventListener(\"click\", onMouseClick);\n  \n  animate();\n};\n\nconst addLights = () => {\n  const ambientLight = new THREE.AmbientLight(0xffffff, 0.65);\n  scene.add(ambientLight);\n\n  const dirLight = new THREE.DirectionalLight(0xffffff, 2.2);\n  dirLight.position.set(20, 30, 20);\n  dirLight.castShadow = true;\n  dirLight.shadow.mapSize.width = 2048;\n  dirLight.shadow.mapSize.height = 2048;\n  dirLight.shadow.camera.near = 0.5;\n  dirLight.shadow.camera.far = 220;\n  dirLight.shadow.camera.left = -120;\n  dirLight.shadow.camera.right = 120;\n  dirLight.shadow.camera.top = 120;\n  dirLight.shadow.camera.bottom = -120;\n  dirLight.shadow.bias = -0.0004;\n  dirLight.shadow.normalBias = 0.02;\n  dirLight.shadow.radius = 3;\n  scene.add(dirLight);\n};\n\n// --- Êñ∞Â¢ûÔºöÁîüÊàêË°óÊôØ/Âú∞Èù¢Á∫πÁêÜ ---\nconst createStreetTexture = () => {\n  const canvas = document.createElement('canvas');\n  canvas.width = 1024;\n  canvas.height = 1024;\n  const ctx = canvas.getContext('2d');\n\n  // 1. ËÉåÊôØÔºàÊ∑±Ëâ≤Ê≤•ÈùíÔºâ\n  ctx.fillStyle = '#1a1a1a';\n  ctx.fillRect(0, 0, 1024, 1024);\n\n  // 2. Âô™ÁÇπÔºàÊ®°ÊãüË∑ØÈù¢Ë¥®ÊÑüÔºâ\n  for (let i = 0; i < 50000; i++) {\n    ctx.fillStyle = Math.random() > 0.5 ? '#222' : '#111';\n    ctx.fillRect(Math.random() * 1024, Math.random() * 1024, 2, 2);\n  }\n\n  // 3. ÈÅìË∑ØÁΩëÊ†ºÔºàÂçÅÂ≠óË∑ØÂè£Ôºâ\n  const step = 256; // Ë°óÂå∫Â§ßÂ∞è\n  ctx.lineWidth = 60; // Ë°óÈÅìÂÆΩÂ∫¶\n  ctx.strokeStyle = '#222'; \n  ctx.beginPath();\n  for (let i = 0; i <= 1024; i += step) {\n    ctx.moveTo(i, 0); ctx.lineTo(i, 1024);\n    ctx.moveTo(0, i); ctx.lineTo(1024, i);\n  }\n  ctx.stroke();\n\n  // 4. ËΩ¶ÈÅì‰∏≠ÂøÉÁ∫øÔºàËôöÁ∫øÔºâ\n  ctx.strokeStyle = '#555';\n  ctx.lineWidth = 2;\n  ctx.setLineDash([15, 15]);\n  ctx.beginPath();\n  for (let i = 0; i <= 1024; i += step) {\n     ctx.moveTo(i, 0); ctx.lineTo(i, 1024);\n     ctx.moveTo(0, i); ctx.lineTo(1024, i);\n  }\n  ctx.stroke();\n\n  const texture = new THREE.CanvasTexture(canvas);\n  texture.encoding = THREE.sRGBEncoding;\n  texture.wrapS = THREE.RepeatWrapping;\n  texture.wrapT = THREE.RepeatWrapping;\n  if (renderer) texture.anisotropy = renderer.capabilities.getMaxAnisotropy();\n  \n  return texture;\n};\n\n// --- Êñ∞Â¢ûÔºöÁîüÊàêÂª∫Á≠ëÂ§ñÁ´ãÈù¢Á∫πÁêÜ ---\nconst createFacadeTextures = () => {\n  const size = 512;\n\n  const colorCanvas = document.createElement(\"canvas\");\n  colorCanvas.width = size;\n  colorCanvas.height = size;\n  const ctx = colorCanvas.getContext(\"2d\");\n\n  const heightCanvas = document.createElement(\"canvas\");\n  heightCanvas.width = size;\n  heightCanvas.height = size;\n  const hctx = heightCanvas.getContext(\"2d\");\n\n  ctx.fillStyle = \"#efefef\";\n  ctx.fillRect(0, 0, size, size);\n\n  hctx.fillStyle = \"#808080\";\n  hctx.fillRect(0, 0, size, size);\n\n  for (let i = 0; i < 12000; i++) {\n    ctx.fillStyle = Math.random() > 0.5 ? \"#e6e6e6\" : \"#f8f8f8\";\n    ctx.fillRect(Math.random() * size, Math.random() * size, 2, 2);\n\n    const v = 118 + Math.floor(Math.random() * 20);\n    hctx.fillStyle = `rgb(${v},${v},${v})`;\n    hctx.fillRect(Math.random() * size, Math.random() * size, 2, 2);\n  }\n\n  const rows = 6;\n  const cols = 6;\n  const padX = 18;\n  const padY = 22;\n  const winW = (size - padX * (cols + 1)) / cols;\n  const winH = (size - padY * (rows + 1)) / rows;\n\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < cols; c++) {\n      const jitterX = (Math.random() - 0.5) * 4;\n      const jitterY = (Math.random() - 0.5) * 4;\n      const x = padX + c * (winW + padX) + jitterX;\n      const y = padY + r * (winH + padY) + jitterY;\n\n      ctx.fillStyle = \"#2a2a2a\";\n      ctx.fillRect(x - 2, y - 2, winW + 4, winH + 4);\n\n      const grad = ctx.createLinearGradient(x, y, x, y + winH);\n      grad.addColorStop(0, \"#1e2a38\");\n      grad.addColorStop(0.45, \"#2f6fa6\");\n      grad.addColorStop(1, \"#1f4f78\");\n      ctx.fillStyle = grad;\n      ctx.fillRect(x, y, winW, winH);\n\n      ctx.fillStyle = \"rgba(255,255,255,0.18)\";\n      ctx.beginPath();\n      ctx.moveTo(x + winW * 0.05, y + winH * 0.05);\n      ctx.lineTo(x + winW * 0.7, y + winH * 0.05);\n      ctx.lineTo(x + winW * 0.05, y + winH * 0.65);\n      ctx.fill();\n\n      hctx.fillStyle = \"#b0b0b0\";\n      hctx.fillRect(x - 2, y - 2, winW + 4, winH + 4);\n      hctx.fillStyle = \"#707070\";\n      hctx.fillRect(x, y, winW, winH);\n    }\n  }\n\n  const colorMap = new THREE.CanvasTexture(colorCanvas);\n  colorMap.encoding = THREE.sRGBEncoding;\n  colorMap.wrapS = THREE.RepeatWrapping;\n  colorMap.wrapT = THREE.RepeatWrapping;\n\n  const bumpMap = new THREE.CanvasTexture(heightCanvas);\n  bumpMap.wrapS = THREE.RepeatWrapping;\n  bumpMap.wrapT = THREE.RepeatWrapping;\n\n  if (renderer) {\n    const aniso = renderer.capabilities.getMaxAnisotropy();\n    colorMap.anisotropy = aniso;\n    bumpMap.anisotropy = aniso;\n  }\n\n  return { colorMap, bumpMap };\n};\n\nconst createSceneContent = (manager) => {\n  buildingGroup = new THREE.Group();\n  structuresGroup = new THREE.Group();\n  \n  // Âú∞Èù¢ (‰ΩøÁî®Ë°óÊôØÁ∫πÁêÜ)\n  const planeGeo = new THREE.PlaneGeometry(300, 300);\n  const streetTexture = createStreetTexture();\n  streetTexture.repeat.set(20, 20); // Ë∞ÉÊï¥Âπ≥Èì∫ÂØÜÂ∫¶\n  \n  const planeMat = new THREE.MeshStandardMaterial({ \n    map: streetTexture,\n    roughness: 0.9,\n    metalness: 0.1\n  });\n  const plane = new THREE.Mesh(planeGeo, planeMat);\n  plane.rotation.x = -Math.PI / 2;\n  plane.receiveShadow = true;\n  buildingGroup.add(plane);\n  buildingGroup.add(structuresGroup);\n\n  const textureLoader = new THREE.TextureLoader(manager);\n  const pmremGenerator = new THREE.PMREMGenerator(renderer);\n  pmremGenerator.compileEquirectangularShader();\n\n  new RGBELoader(manager).load(\"./imgs/hdr/Living.hdr\", (hdr) => {\n    const envMap = pmremGenerator.fromEquirectangular(hdr).texture;\n    scene.environment = envMap;\n    hdr.dispose();\n    pmremGenerator.dispose();\n  });\n\n  const { colorMap: facadeColorMap, bumpMap: facadeBumpMap } = createFacadeTextures();\n  facadeColorMap.repeat.set(2, 1);\n  facadeBumpMap.repeat.set(2, 1);\n\n  buildingsConfig.forEach(config => {\n    if (config.isSplit) {\n      // --- ‰∏ªÊ•ºÔºöÂàÜÂ±ÇÊûÑÂª∫ ---\n      config.floors.forEach(floor => {\n        // Ê•ºÂ±ÇÂá†‰Ωï‰Ωì\n        let geo;\n        if (floor.isRoof) {\n           // Â±ãÈ°∂ÂÅöÊàêÊ£±Èî•ÊàñËñÑÁâáÔºåËøôÈáåÂÅöÊàêËñÑÁâáÊºîÁ§∫\n           geo = new THREE.BoxGeometry(config.width + 0.5, floor.height, config.depth + 0.5);\n        } else {\n           geo = new THREE.BoxGeometry(config.width, floor.height, config.depth);\n        }\n\n        // ÊùêË¥®ÔºöÂå∫ÂàÜ‰æßÈù¢(Ë¥¥Âõæ)ÂíåÈ°∂Â∫ïÈù¢(Á∫ØËâ≤)\n        let mat;\n        if (floor.isRoof) {\n           // Â±ãÈ°∂‰øùÊåÅÂéüÊ†∑\n           mat = new THREE.MeshStandardMaterial({\n            color: floor.color,\n            roughness: 0.9\n          });\n        } else {\n           // ‰æßÈù¢Ë¥¥ÂõæÔºåÈ°∂Â∫ïÁ∫ØËâ≤\n           const sideMat = new THREE.MeshStandardMaterial({\n             map: facadeColorMap,\n             bumpMap: facadeBumpMap,\n             bumpScale: 0.08,\n             color: 0xffffff,\n             roughness: 0.42,\n             metalness: 0.0,\n             envMapIntensity: 1.2,\n             transparent: true,\n             opacity: 0.95\n           });\n           const capMat = new THREE.MeshStandardMaterial({\n             color: floor.color,\n             roughness: 0.8,\n             transparent: true,\n             opacity: 0.95\n           });\n           // ÊùêË¥®Êï∞ÁªÑÈ°∫Â∫è: x+, x-, y+ (top), y- (bottom), z+, z-\n           mat = [sideMat, sideMat, capMat, capMat, sideMat, sideMat];\n        }\n\n        const mesh = new THREE.Mesh(geo, mat);\n        mesh.position.set(config.pos.x, floor.yPos, config.pos.z);\n        mesh.castShadow = true;\n        mesh.receiveShadow = true;\n        \n        // ÁªëÂÆöÊï∞ÊçÆ\n        mesh.userData = { \n          isFloor: true, \n          id: floor.id,\n          name: floor.name,\n          area: floor.area,\n          status: floor.status,\n          originalColor: floor.color,\n          isRoof: !!floor.isRoof\n        };\n        \n        // Ê∑ªÂä†ËæπÊ°ÜÁ∫øÔºåÂ¢ûÂº∫ËßÜËßâÊïàÊûú\n        const edges = new THREE.EdgesGeometry(geo);\n        const line = new THREE.LineSegments(edges, new THREE.LineBasicMaterial({ color: 0x000000, transparent: true, opacity: 0.2 }));\n        line.userData = { isOutline: true, parentMesh: mesh };\n        mesh.add(line);\n\n        // --- Êñ∞Â¢ûÔºö‰∏∫ÈùûÂ±ãÈ°∂Ê•ºÂ±ÇÊ∑ªÂä† 4 ‰∏™Á™óÊà∑ ---\n        if (!floor.isRoof) {\n          addWindowsToFloor(mesh, config.width, floor.height, config.depth, floor);\n        }\n\n        structuresGroup.add(mesh);\n        exteriorClickables.push(mesh);\n      });\n    } else {\n      // --- ËÉåÊôØÂª∫Á≠ëÔºöÊï¥‰ΩìÊûÑÂª∫ ---\n      const tex = textureLoader.load(config.texture);\n      tex.encoding = THREE.sRGBEncoding;\n      tex.wrapS = tex.wrapT = THREE.RepeatWrapping;\n      \n      const geo = new THREE.BoxGeometry(config.size.w, config.size.h, config.size.d);\n      const sideMat = new THREE.MeshStandardMaterial({\n        map: tex,\n        color: 0xffffff,\n        roughness: 0.55,\n        metalness: 0.0,\n        envMapIntensity: 1.0\n      });\n      const capMat = new THREE.MeshStandardMaterial({\n        color: 0xf5f5f5,\n        roughness: 0.9,\n        metalness: 0.0\n      });\n      const mat = [sideMat, sideMat, capMat, capMat, sideMat, sideMat];\n      const mesh = new THREE.Mesh(geo, mat);\n      mesh.position.set(config.pos.x, config.size.h / 2, config.pos.z);\n      mesh.castShadow = true;\n      mesh.receiveShadow = true;\n      structuresGroup.add(mesh);\n    }\n  });\n\n  scene.add(buildingGroup);\n  update2DCamera();\n  \n  // ÂàùÂßãÂåñÂÖ®ÊôØÁªÑÔºà‰øùÊåÅÂéüÊúâÈÄªËæëÔºåÁ®ç‰ΩúÁÆÄÂåñÔºâ\n  createInterior(manager);\n};\n\n// Êñ∞Â¢ûËæÖÂä©ÂáΩÊï∞ÔºöÁªôÊ•ºÂ±ÇÊ∑ªÂä† 4 ‰∏™Á™óÊà∑ (ÂõõÈù¢ÂêÑ‰∏Ä‰∏™)\nconst addWindowsToFloor = (floorMesh, width, height, depth, floorData) => {\n  const windowWidth = 2.0;\n  const windowHeight = 2.5;\n  const windowGeo = new THREE.PlaneGeometry(windowWidth, windowHeight);\n  const windowMat = new THREE.MeshStandardMaterial({\n    color: 0x88ccff,\n    roughness: 0.08,\n    metalness: 0.0,\n    envMapIntensity: 1.6,\n    side: THREE.DoubleSide,\n    transparent: true,\n    opacity: 0.75,\n    emissive: new THREE.Color(0x0a1622),\n    emissiveIntensity: 0.35\n  });\n\n  // ÂÆö‰πâÂõõ‰∏™Èù¢ÁöÑÂÅèÁßªÈáè\n  // 1. Ê≠£Èù¢ (Z+)\n  // 2. ËÉåÈù¢ (Z-)\n  // 3. Â∑¶‰æß (X-)\n  // 4. Âè≥‰æß (X+)\n  const positions = [\n    { x: 0, y: 0, z: depth / 2 + 0.05, ry: 0 },             // Front\n    { x: 0, y: 0, z: -depth / 2 - 0.05, ry: Math.PI },      // Back\n    { x: -width / 2 - 0.05, y: 0, z: 0, ry: -Math.PI / 2 }, // Left\n    { x: width / 2 + 0.05, y: 0, z: 0, ry: Math.PI / 2 }    // Right\n  ];\n  \n  positions.forEach((pos, index) => {\n    const win = new THREE.Mesh(windowGeo, windowMat.clone());\n    win.position.set(pos.x, pos.y, pos.z);\n    win.rotation.y = pos.ry;\n    \n    // ÁªëÂÆöÊï∞ÊçÆ\n    win.userData = { \n      isWindow: true, \n      floorId: floorData.id,\n      floorName: floorData.name,\n      roomId: `room_${floorData.id}_${index}` \n    };\n    \n    floorMesh.add(win);\n    exteriorClickables.push(win);\n  });\n};\n\nconst createInterior = (manager) => {\n  interiorGroup = new THREE.Group();\n  interiorGroup.visible = false;\n  \n  const geometry = new THREE.BoxGeometry(100, 100, 100);\n  geometry.scale(1, 1, -1);\n  \n  const arr = [\"4_l\", \"4_r\", \"4_u\", \"4_d\", \"4_b\", \"4_f\"];\n  const textureLoader = new THREE.TextureLoader(manager);\n  const materials = arr.map(item => {\n    const texture = textureLoader.load(`./imgs/living/${item}.jpg`);\n    texture.encoding = THREE.sRGBEncoding;\n    if (item === \"4_u\" || item === \"4_d\") {\n      texture.rotation = Math.PI;\n      texture.center = new THREE.Vector2(0.5, 0.5);\n    }\n    return new THREE.MeshBasicMaterial({ map: texture });\n  });\n\n  const skybox = new THREE.Mesh(geometry, materials);\n  interiorGroup.add(skybox);\n  scene.add(interiorGroup);\n};\n\n// --- ‰∫§‰∫íÈÄªËæë ---\nconst getPickTarget = (obj) => {\n  if (!obj) return obj;\n  if (obj.userData && obj.userData.isOutline && obj.userData.parentMesh) return obj.userData.parentMesh;\n  return obj;\n};\n\nconst getMeshMaterials = (mesh) => {\n  if (!mesh) return [];\n  if (Array.isArray(mesh.material)) return mesh.material;\n  if (mesh.material) return [mesh.material];\n  return [];\n};\n\nconst tweenMeshOpacity = (mesh, opacity, duration) => {\n  const mats = getMeshMaterials(mesh);\n  mats.forEach((m) => {\n    if (!m) return;\n    m.transparent = true;\n    gsap.to(m, { opacity, duration });\n  });\n};\n\nconst tweenMeshColor = (mesh, color, duration) => {\n  const mats = getMeshMaterials(mesh);\n  mats.forEach((m) => {\n    if (!m || !m.color) return;\n    gsap.to(m.color, { r: color.r, g: color.g, b: color.b, duration });\n  });\n};\n\nconst restoreFloorMaterial = (mesh, duration) => {\n  const mats = getMeshMaterials(mesh);\n  const originalCap = new THREE.Color(mesh.userData.originalColor);\n  const originalSide = new THREE.Color(0xffffff);\n\n  if (mats.length === 6) {\n    [0, 1, 4, 5].forEach((idx) => {\n      const m = mats[idx];\n      if (m && m.color) gsap.to(m.color, { r: originalSide.r, g: originalSide.g, b: originalSide.b, duration });\n    });\n    [2, 3].forEach((idx) => {\n      const m = mats[idx];\n      if (m && m.color) gsap.to(m.color, { r: originalCap.r, g: originalCap.g, b: originalCap.b, duration });\n    });\n    tweenMeshOpacity(mesh, 0.95, duration);\n    return;\n  }\n\n  tweenMeshColor(mesh, originalCap, duration);\n  tweenMeshOpacity(mesh, 0.95, duration);\n};\n\nconst onMouseMove = (event) => {\n  if (currentMode.value !== 'exterior' || viewMode.value !== '3D') {\n    hoverInfo.visible = false;\n    return;\n  }\n\n  mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\n  mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n\n  raycaster.setFromCamera(mouse, camera3D);\n  const intersects = raycaster.intersectObjects(exteriorClickables, true);\n\n  if (intersects.length > 0) {\n    const target = getPickTarget(intersects[0].object);\n    \n    // Â¶ÇÊûúÂΩìÂâçÊÇ¨ÂÅúÁöÑÂíå‰∏ä‰∏ÄÊ¨°‰∏ç‰∏ÄÊ†∑\n    if (hoverObj !== target) {\n      // ÊÅ¢Â§ç‰∏ä‰∏Ä‰∏™ÂØπË±°ÁöÑÈ¢úËâ≤\n      if (hoverObj) {\n        if (hoverObj.userData.isWindow) {\n           const targetColor = new THREE.Color(0x88ccff);\n           gsap.to(hoverObj.material.color, { r: targetColor.r, g: targetColor.g, b: targetColor.b, duration: 0.3 });\n           gsap.to(hoverObj.material, { opacity: 0.75, duration: 0.3 });\n           gsap.to(hoverObj.scale, { x: 1, y: 1, duration: 0.3 });\n        } else {\n           restoreFloorMaterial(hoverObj, 0.3);\n           gsap.to(hoverObj.scale, { x: 1, z: 1, duration: 0.3 });\n        }\n      }\n      \n      hoverObj = target;\n\n      // È´ò‰∫ÆÈÄªËæë\n      if (hoverObj.userData.isWindow) {\n        const highlightColor = new THREE.Color(0xffaa00);\n        gsap.to(hoverObj.material.color, { r: highlightColor.r, g: highlightColor.g, b: highlightColor.b, duration: 0.3 });\n        gsap.to(hoverObj.material, { opacity: 1, duration: 0.3 });\n        gsap.to(hoverObj.scale, { x: 1.1, y: 1.1, duration: 0.3 });\n        hoverInfo.data = {\n          name: 'ÁÇπÂáªËøõÂÖ•ÊàøÈó¥',\n          area: hoverObj.userData.floorName,\n          status: 'VR View'\n        };\n      } else {\n        const highlightColor = new THREE.Color(0x44ff88);\n        tweenMeshColor(hoverObj, highlightColor, 0.3);\n        tweenMeshOpacity(hoverObj, 0.75, 0.3);\n        gsap.to(hoverObj.scale, { x: 1.02, z: 1.02, duration: 0.3 });\n        hoverInfo.data = target.userData;\n      }\n    }\n\n    // Êõ¥Êñ∞ Tooltip ‰ΩçÁΩÆ (Ë∑üÈöèÈº†Ê†á + ÂÅèÁßª)\n    hoverInfo.visible = true;\n    hoverInfo.x = event.clientX + 15;\n    hoverInfo.y = event.clientY - 15;\n    \n  } else {\n    // ÁßªÂá∫\n    if (hoverObj) {\n      if (hoverObj.userData.isWindow) {\n         const targetColor = new THREE.Color(0x88ccff);\n         gsap.to(hoverObj.material.color, { r: targetColor.r, g: targetColor.g, b: targetColor.b, duration: 0.3 });\n         gsap.to(hoverObj.material, { opacity: 0.75, duration: 0.3 });\n         gsap.to(hoverObj.scale, { x: 1, y: 1, duration: 0.3 });\n      } else {\n          restoreFloorMaterial(hoverObj, 0.3);\n          gsap.to(hoverObj.scale, { x: 1, z: 1, duration: 0.3 });\n       }\n       hoverObj = null;\n     }\n    hoverInfo.visible = false;\n  }\n};\n\nconst onMouseClick = (event) => {\n  if (currentMode.value !== 'exterior' || viewMode.value !== '3D') return;\n  \n  if (hoverObj) {\n    // Âå∫ÂàÜÁÇπÂáªÁöÑÊòØÁ™óÊà∑ËøòÊòØÊ•ºÂ±Ç‰∏ª‰Ωì\n    if (hoverObj.userData.isWindow) {\n      enterRoom(hoverObj);\n    } else {\n      activeFloor.value = hoverObj.userData;\n      // ÁßªÈô§ 2D ËßÜÂõæÂàáÊç¢ÈÄªËæëÔºå‰ªÖÈÄâ‰∏≠È´ò‰∫Æ\n      // toggleViewMode('2D');\n    }\n  }\n};\n\nconst enterRoom = (targetMesh) => {\n  const targetPos = new THREE.Vector3();\n  targetMesh.getWorldPosition(targetPos);\n  \n  gsap.to(camera3D.position, {\n    x: targetPos.x, y: targetPos.y, z: targetPos.z + 2,\n    duration: 1,\n    onComplete: () => {\n      currentMode.value = 'interior';\n      buildingGroup.visible = false;\n      interiorGroup.visible = true;\n      scene.background = null;\n      hoverObj = null;\n      hoverInfo.visible = false;\n      if (renderer) renderer.toneMappingExposure = interiorToneExposure;\n      camera3D.position.set(0, 0, 0.1);\n      controls3D.target.set(0, 0, 0);\n      syncActiveView();\n    }\n  });\n};\n\nconst exitRoom = () => {\n  currentMode.value = 'exterior';\n  buildingGroup.visible = true;\n  interiorGroup.visible = false;\n  scene.background = new THREE.Color(0x111111);\n  hoverObj = null;\n  hoverInfo.visible = false;\n  if (renderer) renderer.toneMappingExposure = exteriorToneExposure;\n  update2DCamera();\n  syncActiveView();\n  \n  gsap.to(camera3D.position, {\n    x: CONFIG.camera.exteriorPos.x,\n    y: CONFIG.camera.exteriorPos.y,\n    z: CONFIG.camera.exteriorPos.z,\n    duration: 1.5\n  });\n};\n\nconst onWindowResize = () => {\n  if (!renderer) return;\n  if (camera3D) {\n    camera3D.aspect = window.innerWidth / window.innerHeight;\n    camera3D.updateProjectionMatrix();\n  }\n  update2DCamera();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n};\n\nconst animate = () => {\n  animationId = requestAnimationFrame(animate);\n  if (activeControls) activeControls.update();\n  if (activeCamera) renderer.render(scene, activeCamera);\n};\n\nonMounted(init);\nonBeforeUnmount(() => {\n  cancelAnimationFrame(animationId);\n  window.removeEventListener(\"resize\", onWindowResize);\n  window.removeEventListener(\"mousemove\", onMouseMove);\n  window.removeEventListener(\"click\", onMouseClick);\n  if (controls3D) controls3D.dispose();\n  if (controls2D) controls2D.dispose();\n  if(renderer) renderer.dispose();\n});\n</script>\n\n<style>\n/* ‰øùÊåÅÂéüÊúâÂü∫Á°ÄÊ†∑ÂºèÔºåÊñ∞Â¢û UI Ê†∑Âºè */\n.app-container { font-family: 'Segoe UI', Roboto, sans-serif; }\n\n/* Â∫ïÈÉ®Êìç‰ΩúÊ†è */\n.bottom-toolbar {\n  position: absolute;\n  bottom: 30px;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  align-items: center;\n  background: rgba(20, 20, 20, 0.85);\n  backdrop-filter: blur(10px);\n  padding: 10px 20px;\n  border-radius: 50px;\n  box-shadow: 0 10px 30px rgba(0,0,0,0.5);\n  border: 1px solid rgba(255,255,255,0.1);\n  gap: 20px;\n  width: auto;\n  min-width: 400px;\n  justify-content: space-between;\n}\n\n.toolbar-group { display: flex; gap: 10px; align-items: center; }\n\n.tool-btn {\n  background: transparent;\n  border: none;\n  color: #aaa;\n  cursor: pointer;\n  padding: 8px 16px;\n  border-radius: 20px;\n  font-size: 14px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  transition: all 0.2s;\n}\n\n.tool-btn:hover { color: white; background: rgba(255,255,255,0.1); }\n.tool-btn.active { background: white; color: black; }\n.tool-btn.back-btn { background: #ff4757; color: white; }\n.tool-btn.back-btn:hover { background: #ff6b81; }\n\n.floor-tag { color: white; font-weight: bold; font-size: 14px; }\n\n/* Tooltip Âç°Áâá */\n.tooltip-card {\n  position: absolute;\n  background: rgba(255, 255, 255, 0.95);\n  padding: 15px;\n  border-radius: 12px;\n  box-shadow: 0 5px 20px rgba(0,0,0,0.2);\n  pointer-events: none; /* ‰∏çÈòªÊå°Èº†Ê†á‰∫ã‰ª∂ */\n  transform: translate(10px, 10px); /* ÂÅèÁßª‰∏ÄÁÇπ */\n  min-width: 150px;\n  z-index: 100;\n  animation: fadeIn 0.2s ease-out;\n}\n\n.tooltip-card h3 { margin: 0 0 5px; font-size: 16px; color: #333; }\n.tooltip-area { margin: 0; font-size: 14px; color: #666; font-weight: bold; }\n.tooltip-status { margin: 5px 0 0; font-size: 12px; color: #2ecc71; text-transform: uppercase; letter-spacing: 1px; }\n\n/* 2D Âπ≥Èù¢ÂõæÂ±Ç */\n.floor-plan-overlay {\n  position: absolute;\n  top: 0; left: 0; width: 100%; height: 100%;\n  background: #f0f2f5;\n  z-index: 50;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.floor-plan-container {\n  background: white;\n  padding: 40px;\n  border-radius: 20px;\n  box-shadow: 0 20px 50px rgba(0,0,0,0.1);\n  text-align: center;\n  max-width: 800px;\n  width: 90%;\n}\n\n.floor-plan-image-placeholder {\n  width: 100%;\n  height: 400px;\n  background: #e1e4e8;\n  border: 2px dashed #cbd5e0;\n  border-radius: 12px;\n  margin: 20px 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #718096;\n  font-size: 20px;\n}\n\n.close-plan-btn {\n  padding: 12px 30px;\n  background: #333;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 16px;\n}\n\n@keyframes fadeIn { from { opacity: 0; transform: translate(10px, 20px); } to { opacity: 1; transform: translate(10px, 10px); } }\n\n.loading-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; display: flex; justify-content: center; align-items: center; color: white; z-index: 999; }\n.spinner { width: 40px; height: 40px; border: 4px solid rgba(255,255,255,0.3); border-top-color: white; border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 10px; }\n@keyframes spin { to { transform: rotate(360deg); } }\n.mode-indicator { position: absolute; top: 20px; right: 20px; background: rgba(0,0,0,0.5); color: white; padding: 5px 10px; border-radius: 4px; font-size: 12px; }\n</style>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=78bdb6a4&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkview360\"] = self[\"webpackChunkview360\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(1292); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["container","ref","isLoading","loadingProgress","currentMode","viewMode","activeFloor","hoverInfo","reactive","visible","x","y","data","name","area","status","scene","renderer","raycaster","mouse","camera3D","camera2D","activeCamera","controls3D","controls2D","activeControls","buildingGroup","structuresGroup","interiorGroup","animationId","exteriorClickables","hoverObj","exteriorFog","exteriorToneExposure","interiorToneExposure","CONFIG","camera","exteriorPos","z","fov","buildingsConfig","pos","isSplit","floors","id","height","yPos","color","isRoof","width","depth","size","w","h","d","texture","getModeName","value","toggleViewMode","mode","update2DCamera","syncActiveView","box","THREE","setFromObject","isEmpty","center","getSize","getCenter","aspect","window","innerWidth","innerHeight","margin","halfWidth","halfHeight","left","right","halfY","top","bottom","halfX","near","far","position","set","up","lookAt","updateProjectionMatrix","target","copy","update","enabled","fog","init","background","antialias","alpha","setSize","setPixelRatio","Math","min","devicePixelRatio","outputEncoding","toneMapping","toneMappingExposure","physicallyCorrectLights","shadowMap","type","appendChild","domElement","OrbitControls","enableDamping","dampingFactor","maxPolarAngle","PI","minDistance","maxDistance","enableRotate","enablePan","screenSpacePanning","minZoom","maxZoom","mouseButtons","LEFT","MIDDLE","RIGHT","manager","onProgress","url","loaded","total","floor","onLoad","gsap","duration","ease","addLights","createSceneContent","addEventListener","onWindowResize","onMouseMove","onMouseClick","animate","ambientLight","add","dirLight","castShadow","shadow","mapSize","bias","normalBias","radius","createStreetTexture","canvas","document","createElement","ctx","getContext","fillStyle","fillRect","i","random","step","lineWidth","strokeStyle","beginPath","moveTo","lineTo","stroke","setLineDash","encoding","wrapS","wrapT","anisotropy","capabilities","getMaxAnisotropy","createFacadeTextures","colorCanvas","heightCanvas","hctx","v","rows","cols","padX","padY","winW","winH","r","c","jitterX","jitterY","grad","createLinearGradient","addColorStop","fill","colorMap","bumpMap","aniso","planeGeo","streetTexture","repeat","planeMat","map","roughness","metalness","plane","rotation","receiveShadow","textureLoader","pmremGenerator","compileEquirectangularShader","RGBELoader","load","hdr","envMap","fromEquirectangular","environment","dispose","facadeColorMap","facadeBumpMap","forEach","config","geo","mat","sideMat","bumpScale","envMapIntensity","transparent","opacity","capMat","mesh","userData","isFloor","originalColor","edges","line","isOutline","parentMesh","addWindowsToFloor","push","tex","createInterior","floorMesh","floorData","windowWidth","windowHeight","windowGeo","windowMat","side","emissive","emissiveIntensity","positions","ry","index","win","clone","isWindow","floorId","floorName","roomId","geometry","scale","arr","materials","item","skybox","getPickTarget","obj","getMeshMaterials","Array","isArray","material","tweenMeshOpacity","mats","m","tweenMeshColor","g","b","restoreFloorMaterial","originalCap","originalSide","length","idx","event","clientX","clientY","setFromCamera","intersects","intersectObjects","object","targetColor","highlightColor","enterRoom","targetMesh","targetPos","getWorldPosition","onComplete","exitRoom","requestAnimationFrame","render","onMounted","onBeforeUnmount","cancelAnimationFrame","removeEventListener","__exports__","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","key","splice","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","globalThis","this","Function","e","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}